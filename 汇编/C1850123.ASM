DATA SEGMENT
BUFFER DB 80,?,80 DUP(?)
S1 DB 0AH,0DH,'LETTER:$'
L DB ?
S2 DB 0AH,0DH,'NUMBER:$'
N DB ?
S3 DB 0AH,0DH,'OTHER:$'
O DB ?
N0 DB 0AH
DATA ENDS

CODE SEGMENT
ASSUME CS:CODE,DS:DATA
START: 
MOV AX,DATA
MOV DS,AX
LEA DX,BUFFER
MOV AH,0AH
INT 21H
MOV CL,BUFFER+1
MOV CH,0
LEA BX,BUFFER+2

ONE: 
MOV AL,[BX]
CMP AL,'0'
JL OTHER
CMP AL,'9'
JNL NUM
CMP AL,'A'
JL OTHER
CMP AL,'Z'
JNL LETTER
CMP AL,'a'
JL OTHER
CMP AL,'z'
JNL LETTER
JG OTHER

LETTER:
INC L
JMP FOLLOWING

NUM:
INC N
JMP FOLLOWING

OTHER:
INC O
JMP FOLLOWING

FOLLOWING:
INC BX
LOOP ONE

MOV CL,0

LEA DX,S1
MOV AH,09H
INT 21H
MOV AL,L
CBW
DIV N0
TEST AH,0
JNZ DOWN1
MOV BL,AL
ADD BL,'0'
MOV AH,2
MOV DL,BL
INT 21H
DOWN1:
MOV BL,AH
ADD BL,'0'
MOV AH,2
MOV DL,BL
INT 21H

LEA DX,S2
MOV AH,09H
INT 21H
MOV AL,N
CBW
DIV N0
TEST AH,0
JNZ DOWN2
MOV BL,AL
ADD BL,'0'
MOV DL,BL
MOV AH,2
INT 21H
DOWN2:
MOV BL,AH
ADD BL,'0'
MOV DL,BL
MOV AH,2
INT 21H

LEA DX,S3
MOV AH,09H
INT 21H
MOV AL,O
CBW
DIV N0
TEST AH,0
JNZ DOWN3
MOV BL,AL
ADD BL,'0'
MOV AH,2
MOV DL,BL
INT 21H
DOWN3:
MOV BL,AH
ADD BL,'0'
MOV AH,2
MOV DL,BL
INT 21H

MOV AX,4C00H
INT 21H

CODE ENDS
END START
